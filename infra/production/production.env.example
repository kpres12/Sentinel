# Production Environment Configuration for Wildfire Operations Platform
# Copy this file to production.env and fill in actual values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
LOG_LEVEL=info
DEBUG=false

# Application URLs
API_BASE_URL=https://api.wildfire-ops.com
CONSOLE_BASE_URL=https://console.wildfire-ops.com
WEBHOOK_BASE_URL=https://webhooks.wildfire-ops.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Primary PostgreSQL Database
DATABASE_URL=postgresql://wildfire_user:CHANGE_ME@postgresql-primary:5432/wildfire_ops
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=50
DATABASE_TIMEOUT=30000
DATABASE_SSL=true

# Read Replica (Optional)
DATABASE_READ_URL=postgresql://wildfire_user:CHANGE_ME@postgresql-replica:5432/wildfire_ops

# Redis Configuration
REDIS_URL=redis://redis-primary:6379
REDIS_PASSWORD=CHANGE_ME
REDIS_CLUSTER_MODE=true
REDIS_MAX_RETRIES=3

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=CHANGE_ME_TO_SECURE_RANDOM_STRING_64_CHARS_MIN
JWT_REFRESH_SECRET=CHANGE_ME_TO_DIFFERENT_SECURE_RANDOM_STRING
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Encryption
ENCRYPTION_KEY=CHANGE_ME_TO_32_BYTE_HEX_STRING
BCRYPT_ROUNDS=12

# CORS Configuration
ALLOWED_ORIGINS=https://console.wildfire-ops.com,https://admin.wildfire-ops.com
ALLOWED_HOSTS=api.wildfire-ops.com,console.wildfire-ops.com

# =============================================================================
# EXTERNAL API INTEGRATIONS
# =============================================================================
# Weather Services
WEATHER_API_KEY=CHANGE_ME
WEATHER_API_URL=https://api.weather.gov
NOAA_API_KEY=CHANGE_ME

# Satellite Data
SATELLITE_API_KEY=CHANGE_ME
SATELLITE_API_URL=https://firms.modaps.eosdis.nasa.gov

# Lightning Detection
LIGHTNING_API_KEY=CHANGE_ME
LIGHTNING_API_URL=https://api.lightningmaps.org

# GIS Services
ARCGIS_API_KEY=CHANGE_ME
ARCGIS_SERVICE_URL=https://services.arcgis.com

# =============================================================================
# SUMMIT.OS INTEGRATION
# =============================================================================
SUMMIT_API_URL=https://summit.wildfire-ops.com/api/v1
SUMMIT_API_KEY=CHANGE_ME_TO_SUMMIT_API_KEY
SUMMIT_WEBHOOK_SECRET=CHANGE_ME_TO_WEBHOOK_SECRET
SUMMIT_TIMEOUT=30000

# =============================================================================
# MESSAGING & COMMUNICATION
# =============================================================================
# MQTT Configuration
MQTT_BROKER_URL=mqtts://mqtt.wildfire-ops.com:8883
MQTT_USERNAME=wildfire_mqtt_user
MQTT_PASSWORD=CHANGE_ME
MQTT_CLIENT_ID=wildfire-platform
MQTT_KEEP_ALIVE=60
MQTT_QOS=1

# Email Configuration
SMTP_HOST=smtp.wildfire-ops.com
SMTP_PORT=587
SMTP_USERNAME=notifications@wildfire-ops.com
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM_EMAIL=noreply@wildfire-ops.com
SMTP_FROM_NAME=Wildfire Operations Platform

# SMS Configuration (Optional)
SMS_API_KEY=CHANGE_ME
SMS_API_URL=https://api.twilio.com
SMS_FROM_NUMBER=+15551234567

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana Configuration
GRAFANA_ADMIN_PASSWORD=CHANGE_ME
GRAFANA_SECRET_KEY=CHANGE_ME

# Application Performance Monitoring
APM_SERVICE_NAME=wildfire-ops
APM_SERVER_URL=https://apm.wildfire-ops.com
APM_SECRET_TOKEN=CHANGE_ME

# Logging
LOG_FORMAT=json
LOG_DESTINATION=stdout
SYSLOG_HOST=logs.wildfire-ops.com
SYSLOG_PORT=514

# =============================================================================
# ALERTING & NOTIFICATIONS
# =============================================================================
# Webhook for Critical Alerts
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
EMERGENCY_WEBHOOK_URL=https://emergency.wildfire-ops.com/webhook

# PagerDuty Integration
PAGERDUTY_INTEGRATION_KEY=CHANGE_ME
PAGERDUTY_SERVICE_ID=CHANGE_ME

# Emergency Notification
EMERGENCY_NOTIFICATION_KEY=CHANGE_ME
EMERGENCY_CONTACT_LIST=incident-commander@wildfire-ops.com,operations@wildfire-ops.com

# =============================================================================
# CLOUD STORAGE
# =============================================================================
# AWS S3 Configuration
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=CHANGE_ME
AWS_SECRET_ACCESS_KEY=CHANGE_ME
S3_BUCKET_NAME=wildfire-ops-data
S3_BACKUP_BUCKET=wildfire-ops-backups

# Azure Storage (Alternative)
AZURE_STORAGE_ACCOUNT=wildfireops
AZURE_STORAGE_KEY=CHANGE_ME
AZURE_CONTAINER_NAME=wildfire-data

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================
# API Rate Limiting
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL=true

# Connection Pooling
HTTP_TIMEOUT=30000
HTTP_KEEP_ALIVE=true
HTTP_MAX_SOCKETS=100

# Caching
CACHE_TTL=300
CACHE_MAX_SIZE=1000
CACHE_ENABLED=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_VIDEO=true
FEATURE_ML_PREDICTIONS=true
FEATURE_MULTI_TENANT=false
FEATURE_OFFLINE_MODE=true

# =============================================================================
# DEVELOPMENT & DEBUGGING (Production: false)
# =============================================================================
ENABLE_SWAGGER_UI=false
ENABLE_DEBUG_ROUTES=false
ENABLE_METRICS_ENDPOINT=true
ENABLE_HEALTH_ENDPOINT=true

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_COMPRESSION_ENABLED=true

# Disaster Recovery
DR_ENABLED=true
DR_REGION=us-east-1
DR_RTO_MINUTES=15
DR_RPO_MINUTES=60

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years
COMPLIANCE_MODE=NIST
DATA_RETENTION_POLICY=7y

# =============================================================================
# RESOURCE LIMITS
# =============================================================================
# Memory Limits
MEMORY_LIMIT_API=2Gi
MEMORY_LIMIT_CONSOLE=1Gi
MEMORY_LIMIT_WORKER=4Gi

# CPU Limits
CPU_LIMIT_API=1000m
CPU_LIMIT_CONSOLE=500m
CPU_LIMIT_WORKER=2000m

# Disk Limits
DISK_LIMIT_LOGS=10Gi
DISK_LIMIT_DATA=100Gi
DISK_LIMIT_BACKUPS=500Gi

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# Load Balancer
LB_ALGORITHM=round_robin
LB_HEALTH_CHECK_INTERVAL=30s
LB_HEALTH_CHECK_TIMEOUT=5s
LB_HEALTH_CHECK_RETRIES=3

# SSL/TLS
TLS_MIN_VERSION=1.2
TLS_CIPHER_SUITES=ECDHE-RSA-AES256-GCM-SHA384,ECDHE-RSA-AES128-GCM-SHA256
SSL_CERT_PATH=/etc/ssl/certs/wildfire-ops.crt
SSL_KEY_PATH=/etc/ssl/private/wildfire-ops.key

# =============================================================================
# KUBERNETES SPECIFIC
# =============================================================================
NAMESPACE=wildfire-ops
SERVICE_ACCOUNT=wildfire-ops-sa
CLUSTER_NAME=wildfire-ops-prod
INGRESS_CLASS=nginx

# Pod Security
POD_SECURITY_POLICY=restricted
SECURITY_CONTEXT_RUN_AS_USER=1000
SECURITY_CONTEXT_RUN_AS_GROUP=1000
SECURITY_CONTEXT_FS_GROUP=1000

# =============================================================================
# TIMEZONE & LOCALIZATION
# =============================================================================
TZ=UTC
LOCALE=en_US.UTF-8
DATE_FORMAT=ISO8601
COORDINATE_SYSTEM=WGS84
